# [7ì£¼ì°¨]React ìŠ¤í„°ë””

ê³¼ì œ: ì—†ìŒ 

ì´ì „ê¹Œì§€ì˜ ë‚´ìš© ë³µìŠµ

JSXê°€ í¬í•¨ëœ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” babelì´ë¼ëŠ” í†µì—­ê¸°ê°€ ìˆì–´ì•¼ í•œë‹¤. 

ê¸°ë³¸ êµ¬ì¡°ëŠ” htmlì— ë¹ˆ êµ¬ì¡°ë¥¼ ë§Œë“¤ê³  ê·¸ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì°¾ì•„ë‚´ëŠ” ê²ƒë¶€í„°í•´ì„œ ì•ˆì— ë¬´ì—‡ì„ ë„£ì„ì§€ê¹Œì§€ jsì—ì„œ ê´€ë¦¬í•´ì¤€ë‹¤. 

ê°™ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ ë‹¤ë¥¸ ì»¨í…ì¸ ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´ì„œëŠ” ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ì˜ ì¸ì ì•ˆì— propsë¥¼ ë„£ì–´ì„œ ê°ê°ì˜ ë‚´ìš©ì„ ì „ë‹¬í•´ì¤€ë‹¤. 

ìŠ¤íƒ€ì¼ë§ì€ íƒœê·¸ ì•ˆì— style ì†ì„±ì„ í™œìš©í•´ì„œ ì§€ì •í•  ìˆ˜ ìˆë‹¤. 

ì´ë²¤íŠ¸ëŠ” ê¸°ì¡´ jsì™€ ë™ì¼í•œ ì´ë¦„ì„ ê°–ì§€ë§Œ ì¤‘ê°„ì— ëŒ€ë¬¸ìë¥¼ ì‚¬ìš©í•œë‹¤. 

ìƒíƒœëŠ” ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ììœ ë¡­ê²Œ ë³€ê²½í•  ê°’ì´ í•„ìš”í•  ë•Œ ì‚¬ìš©í•œë‹¤. useStateí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ”ë° const [ìƒíƒœë©´, ìƒíƒœë³€ê²½í•¨ìˆ˜ëª…] = React.useState(ì´ˆê¸°ê°’); í˜•íƒœë¡œ ì„ ì–¸í•œë‹¤. ì—¬ê¸°ì—ì„œ ìƒíƒœ ë³€ê²½ í•¨ìˆ˜ëª…ì´ë€ ê²ƒì— ëŒ€í•œ ì˜ë¯¸ë¥¼ ì˜ ì´í•´í•˜ì§€ ëª»í–ˆëŠ”ë° ì‚¬ìš©í•˜ë©´ì„œ ì•Œ ìˆ˜ ìˆì„ ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤. 

ë¦¬ìŠ¤íŠ¸ mapì€ ë°°ì—´ ì•ˆì˜ ê°ê°ì˜ ê°’ë“¤ì„ ì „ë‹¬í•  ë•Œ ì‚¬ìš©í•œë‹¤. {[ë°°ì—´.map](http://ë°°ì—´.map)(ì „ë‹¬ê°’ â‡’ ì „ë‹¬íƒœê·¸)}í˜•íƒœë¡œ ì‚¬ìš©í•œë‹¤. 

í¼ì€ ì‚¬ìš©ì ì…ë ¥ê°’ì„ ë‹¤ë£¨ê¸° ìœ„í•´ valueë¥¼ ë¶ˆëŸ¬ì™€ì„œ ê·¸ valueë¥¼ ì¡°ì ˆí•˜ëŠ” í˜•íƒœì´ë‹¤. inValueChange()ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì‚¬ìš©ìê°€ ê°’ì„ ì…ë ¥í•  ë•Œ ë³€í™”ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì´ë‹¤. 

ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ëŠ” ë¸Œë¼ìš°ì €ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì´ê³  7ì¼ê¹Œì§€ ë°ì´í„°ê°€ ì €ì¥ë  ìˆ˜ ìˆë‹¤.  

27 fetch, open API

ì„œë²„ê°€ ì—†ê¸° ë•Œë¬¸ì— ì˜¤í”ˆ APIë¥¼ ì‚¬ìš©í•œë‹¤. 

https://github.com/public-apis/public-apis

ì—¬ê¸°ì— ìˆëŠ” apië¥´ ë°›ì•„ë“¤ì—¬ì„œ ëŒ€ì‚¬ë¥¼ ëœë¤ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ëŠ” ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤. 

fetch apië¥¼ ì‚¬ìš©í•˜ë©´ apiì—ì„œ ì›í•˜ëŠ” urlì„ jsì— ë°›ì•„ë“¤ì¼ ìˆ˜ ìˆë‹¤. 

fetch(â€™[Cat as a service (CATAAS)](https://cataas.com/)**/cat?json=true**â€™)

fetch (â€™https://cataas.com//cat?json=trueâ€™)

.then(function(response) {

return response.json();

})

.then(function(myJson) {

console.log(JSON.stringify(myJson));

});

asynk awaitì€ .thenê³¼ ë™ì¼í•œ ì—­í•  

29-30. useEffect

ì‹œì‘í•˜ìë§ˆì apië¥¼ ë¶ˆëŸ¬ì™€ì„œ ë©”ì¸ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¨ ì´ë¯¸ì§€ë¡œ ë³€ê²½í•˜ëŠ” í™œë™

```html
      async function setInitialCat() {
        const newCat = await fetchCat('First-cat');
        setMainCat(newCat);
      }
```

ì´ëŸ° í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ setInitialCat();ìœ¼ë¡œ í˜¸ì¶œí–ˆëŠ”ë° ê³„ì†í•´ì„œ apiê°€ í˜¸ì¶œë˜ëŠ” í˜„ìƒì´ ë°œìƒ

useEffectë¥¼ ì‚¬ìš©í•´ì„œ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤. 

```html

      React.useEffect(() => {
        setInitialCat();
      }, []);
```

ì»´í¬ë„ŒíŠ¸ ì•ˆì— í™œë™ì€ UIë¥¼ ìƒˆë¡­ê²Œ ê·¸ë¦´ ë•Œë§ˆë‹¤ ì‹¤í–‰í•˜ê²Œ ëœë‹¤. ë˜í•œ useEffectë„ ë¦¬í”„ë˜ì‹œê°€ ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ ë‘ ë²ˆì§¸ ì¸ìë¡œ ë³€í™” ì‹œê¸°ë¥¼ ì •í•´ì¤„ ìˆ˜ ìˆëŠ”ë° []ì˜ ê²½ìš°ëŠ” ì²˜ìŒì—ë§Œ ì‹¤í–‰ë˜ê³  ë§Œì•½ [counter]ì™€ ê°™ì€ ì¸ìë¥¼ ì „ë‹¬í•´ì£¼ë©´ counterì— ë³€í™”ê°€ ìˆì„ë•Œë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. 

1. ì¡°ê±´ë¶€ ë Œë”ë§

ì¡°ê±´ì— ë”°ë¼ì„œ ë³´ì´ëŠ” ëŒ€ìƒì„ ë‹¤ë¥´ê²Œ í•´ì£¼ëŠ” ë°©ë²•ì´ë‹¤. 

í•˜íŠ¸ë¥¼ ëˆ„ë¥¸ ê²½ìš°ë¥¼ íŒë‹¨í•˜ê¸° ìœ„í•´ mainCat ë°°ì—´ ì•ˆì— í•˜íŠ¸ë¥¼ ëˆ„ë¥¸ ëŒ€ìƒì´ ìˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ê³  ë Œë”ë§í•˜ëŠ” êµ¬ì¡°ë¥¼ ë§Œë“ ë‹¤. ì´ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ includesë¼ëŠ” jsì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤. 

const alreadyFavorite = favorites.includes(mainCat);ë¡œ í™•ì¸í•œ ì´í›„

const heartIcon = alreadyFavorite ? "ğŸ’–" : "ğŸ¤";ë¡œ ìƒíƒœì— ë”°ë¥¸ ë Œë”ë§ ìŠ¤íƒ€ì¼ì„ ì§€ì •í•´ì¤€ë‹¤. 

1. setState í•¨ìˆ˜ ì „ë‹¬

```html
const [counter, setCounter] = React.useState(() => {
        jsonLocalStorage.getItem("counter")
      });
```

ê¸°ì¡´ì˜ counterëŠ” ë°”ë¡œ ë¡œì»¬ì˜ ê°’ì— ì ‘ê·¼í•´ ê°’ì„ ê°€ì ¸ì™”ëŠ”ë° í•¨ìˆ˜ë¡œ ì „ë‹¬í•´ì£¼ë©´ ë¶ˆí•„ìš”í•œ ì ‘ê·¼ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. 

```html
 async function updateMainCat(value) {

        const newCat = await fetchCat(value);

        setMainCat(newCat);

        setCounter((prev) => {
          const nextCounter = prev + 1;
          jsonLocalStorage.setItem("counter", nextCounter);
          return nextCounter;
        });
      }

```

êµ¬ì¡°ë¥¼ ìˆ˜ì •í•´ì„œ ë°”ë€ŒëŠ” ê°’ì„ ë°”ë¡œë°›ì•„ì˜¬ ìˆ˜